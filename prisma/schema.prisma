generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("POSTGRES_URL")
}

enum ServiceName {
    TikTok
    Youtube
    Twitch
    Instagram
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ðŸ§© Table: Server
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
model Server {
    id         String   @id
    name       String
    created_at DateTime @default(now())

    // Relation inverse
    watchers SocialMedia[]
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ðŸ§© Table: SocialMediaWatcher
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
model SocialMedia {
    uuid          String @id @default(uuid())
    services_name String
    username      String

    server_id       String
    server          Server            @relation(fields: [server_id], references: [id])
    YoutubeScrapper YoutubeScrapper[]
}

model YoutubeScrapper {
    uuid        String   @id @default(uuid())
    user_id     String
    channel_id  String
    playlist_id String
    last_video  String
    created_at  DateTime @default(now())

    socialMedia_uuid String
    socialMedia      SocialMedia @relation(fields: [socialMedia_uuid], references: [uuid])
}
